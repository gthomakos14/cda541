---
title: "R Notebook"
output: html_notebook
---
1) (10 points) Consider the cereal dataset in UBlearns.  Suppose that you are getting 
this data in order to build a predictive model for nutritional rating. 

#############################################################################################
I'm loading in the pre-processed data from the previous homework assignment. The pre-processing that took place removed outliers, removed some useless columns (namely mfr, type, shelf, and weight), scaled the other columns to accomodate for serving size denoted in the cups column, and removed entries with missing values (in the original csv, indicated by a -1. The reason for total removal was due to the small quantity: there were only 3.)
#############################################################################################

```{r}
library(dplyr)

load(file="df_cereal.rdata")
```

a) Divide the data into test (20% of data) and training (80% of data).  Fit a linear 
model and report the MSE.

#############################################################################################
TODO:
Give a write up here. Talk about what's in the cell below.
#############################################################################################

```{r}
set.seed(12)
df_train = sample_frac(df_cereal, 0.8)
df_test = anti_join(df_cereal, df_train, by='name')

model_no_selection = lm(rating~calories+protein+fat+sodium+fiber+carbo+sugars+potass+vitamins, data=df_train)

df_test$predicted = predict.lm(model_no_selection, df_test)
df_test$squared_error = (df_test$rating - df_test$predicted)^2
print(paste('The MSE is: ', mean(df_test$squared_error)))
```

